CheckPassword
=============

A script which is executed and handles the password verification. Also returns
the required userdb information, so you can use prefetch userdb with this.

The checkpassword interface is specified in
http://cr.yp.to/checkpwd/interface.html.

Note that auth_imap that comes with qmail-ldap is not compatible with this
interface. You should use instead auth_pop (cp -a auth_pop auth_dovecot).

Dovecot Extensions
------------------

If you wish to return <extra fields> [PasswordDatabase.ExtraFields.txt] for
Dovecot, set them in environment variables and then list them in EXTRA
environment variable. The<userdb extra fields> [UserDatabase.ExtraFields.txt]
can be returned by prefixing them with 'userdb_'. For example:

---%<-------------------------------------------------------------------------
userdb_quota=maildir:storage=10000
something=else
EXTRA=userdb_quota something
---%<-------------------------------------------------------------------------

Dovecot also sets some environment variables that the script may use:

 * 'SERVICE': contains eg. imap, pop3 or smtp
 * 'TCPLOCALIP' and 'TCPREMOTEIP': Client socket's IP addresses if available
 * 'MASTER_USER': If master login is attempted. This means that the password
   contains the master user's password and the normal username contains the
   user who master wants to log in as.

(This file was created from the wiki on 2007-04-13 14:32)
