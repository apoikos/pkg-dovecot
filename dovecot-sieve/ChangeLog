2008-05-16  Timo Sirainen  <tss@iki.fi>

	* .hgtags:
	Added tag 1.1.5 for changeset 5ebdbdd084f4
	[bfed165c4db2] [tip]

	* configure.in:
	Released v1.1.5.
	[5ebdbdd084f4] [1.1.5]

	* src/sieve-cmu.c:
	If sieve path is a directory instead of a file, give a clear error
	message instead of "input in flex scanner failed".
	[25b786f5b3c0]

2008-04-25  Timo Sirainen  <tss@iki.fi>

	* src/sieve-cmu.c:
	Unfold multiline headers before comparing them.
	[486736da7e4c]

2008-04-18  Timo Sirainen  <tss@iki.fi>

	* src/cmusieve-plugin.c:
	If mail_debug is enabled, log also if the script isn't found.
	[af18c7215bde]

2008-04-01  Timo Sirainen  <tss@iki.fi>

	* src/sieve-cmu.c:
	If compiled script has the exact same mtime as the source, assume
	the script hasn't changed.
	[841220f564e4]

2008-02-25  Timo Sirainen  <tss@iki.fi>

	* src/sieve-cmu.c:
	Fixed error message. Patch by Anders.
	[a9e43a2cb235]

	* src/cmusieve-plugin.c:
	Expand ~ to home in sieve path.
	[e0a053a4ca84]

2008-02-16  Timo Sirainen  <tss@iki.fi>

	* configure.in:
	Released v1.1.4.
	[dff41cab0623]

	* src/sieve-cmu.c:
	Fixed to compile with changed message_parser_deinit() API.
	[ef20d7a75cd2]

2008-01-01  Timo Sirainen  <tss@iki.fi>

	* configure.in:
	Released v1.1.3.
	[62f96e333d61]

	* src/sieve-cmu.c:
	Adding keywords crashed. Also fixed a memory leak.
	[281aade4b591]

2007-09-30  Timo Sirainen  <tss@iki.fi>

	* .hgtags:
	Added tag 1.1.2 for changeset 8dbe745fa69d
	[2027b51f4332]

	* configure.in:
	Released v1.1.2.
	[8dbe745fa69d] [1.1.2]

	* src/sieve-cmu.c:
	If script is compiled successfully, unlink .err file.
	[48c4f168da70]

	* src/cmusieve-plugin.c, src/cmusieve-plugin.h, src/sieve-cmu.c:
	Deliver API now passes destination address instead of username.
	Separate these so that getenvelope("to") returns the address and
	getenvelope("auth") returns the username.
	[485f4449e3ae]

	* .hgtags:
	Added tag 1.1.1 for changeset ae26edc369f1
	[1bb37e36a468]

	* configure.in:
	Released v1.1.1.
	[ae26edc369f1] [1.1.1]

	* src/sieve-cmu.c:
	getheader() didn't return SIEVE_FAIL if no headers were found.
	[ea1942bc565b]

2007-09-23  Timo Sirainen  <tss@iki.fi>

	* .hgtags:
	Added tag 1.1.0 for changeset 127e423b7df4
	[fe11e5bfbd7c]

	* configure.in:
	Released v1.1.0.
	[127e423b7df4] [1.1.0]

2007-09-16  Timo Sirainen  <tss@iki.fi>

	* src/libsieve/comparator.c, src/libsieve/message.c,
	src/libsieve/sievec.c, src/map.c, src/sieve-cmu.c, src/xmalloc.h:
	Use the updated APIs
	[57c65bac08b3]

2007-09-09  Timo Sirainen  <tss@iki.fi>

	* src/sieve-cmu.c:
	Informational logging of vacation response outcome. Based on patch
	by <pod@sysdev.oucs.ox.ac.uk>
	[0eb93cd3b462]

2007-08-15  Timo Sirainen  <tss@iki.fi>

	* src/cmusieve-plugin.c:
	Better error message for "per-user script location not set."
	[39e2131dc592]

2007-08-13  Timo Sirainen  <tss@iki.fi>

	* src/sieve-cmu.c:
	Fixed to compile with new API
	[0367450c9382]

2007-08-09  Timo Sirainen  <tss@iki.fi>

	* src/libsieve/sieve.y:
	Code cleanup
	[8f6830cf7b75]

	* src/libsieve/bc_eval.c:
	Minor fix
	[0d7f8f2dd9c4]

2007-07-20  Timo Sirainen  <tss@iki.fi>

	* src/sieve-cmu.c:
	Lookup headers using mail_get_headers_utf8() so non-ASCII headers
	can be compared.
	[131e25f6862b]

	* src/cmusieve-plugin.c, src/sieve-cmu.c:
	global_script_path -> sieve_global_path global_script_dir ->
	sieve_global_dir Also added sieve_dir setting which overrides home
	directory.
	[fae7f0d39827]

	* src/sieve-cmu.c:
	Use sieve_dir instead of home if it exists for finding personal
	scripts.
	[3d36c3f1f755]

	* src/sieve-cmu.c:
	Added support for include extension.
	[48178539087b]

	* src/sieve-cmu.c:
	We weren't supposed to log first error immediately.
	[978a6225ecd7]

	* src/sieve-cmu.c:
	Another memory leak fix for body.
	[7fbc683f2587]

	* src/sieve-cmu.c:
	Memory leak fix with body extension.
	[c75b2da3fd3b]

	* src/cmusieve-plugin.c, src/cmusieve-plugin.h,
	src/libsieve/Makefile.am, src/libsieve/bc_dump.c,
	src/libsieve/bc_emit.c, src/libsieve/bc_eval.c,
	src/libsieve/bc_generate.c, src/libsieve/bytecode.h,
	src/libsieve/comparator.c, src/libsieve/comparator.h,
	src/libsieve/interp.c, src/libsieve/interp.h,
	src/libsieve/message.c, src/libsieve/message.h,
	src/libsieve/script.c, src/libsieve/script.h, src/libsieve/sieve-
	lex.l, src/libsieve/sieve.y, src/libsieve/sieve_err.c,
	src/libsieve/sieve_err.h, src/libsieve/sieve_interface.h,
	src/libsieve/sievec.c, src/libsieve/sieved.c, src/libsieve/tree.c,
	src/libsieve/tree.h, src/sieve-cmu.c:
	Upgraded to Cyrus Sieve v2.3 and changed code to compile against
	Dovecot v1.1. Sieve body extension works now, but include doesn't
	yet.
	[09f894d3cc84]

2007-07-13  Timo Sirainen  <tss@iki.fi>

	* src/sieve-cmu.c:
	Added support for mailto notify. Patch by Uldis Pakuls.
	[0ddc99d4b747]

	* src/sieve-cmu.c:
	If sieve_execute_bytecode() fails, log an error.
	[f8f207198d09]

2007-06-19  Timo Sirainen  <tss@iki.fi>

	* src/sieve-cmu.c:
	Log a bit more if debug is enabled.
	[64a7986b5e55]

2007-06-16  Timo Sirainen  <tss@iki.fi>

	* src/sieve-cmu.c:
	Vacation crashfix: If there's no return path (or it's broken),
	getenvelope() returns SIEVE_FAIL now.
	[c41e5970e2dc]

2007-05-19  Timo Sirainen  <tss@iki.fi>

	* .cvsignore, src/.cvsignore, src/libsieve/.cvsignore:
	We no longer need .cvsignore files
	[8ac0d2217a46]

	* .hgignore, Makefile.am, autogen.sh:
	Mercurify the repository
	[2cbb35f2443f]

2007-05-19  convert-repo  <convert-repo>

	* .hgtags:
	update tags
	[eb09390f96fa]

2007-02-22  Timo Sirainen  <tss@iki.fi>

	* configure.in, src/Makefile.am, src/libsieve/Makefile.am:
	Support compiling against installed dovecot-config and headers. This
	way sievec and sieved aren't compiled though because liblib.a
	doesn't exist.
	[ea5fc9277fbd]

2007-02-16  Timo Sirainen  <tss@iki.fi>

	* src/map.c:
	Don't crash if the .sievec file is zero bytes.
	[4b1a6ae4e7fb]

2007-01-18  Timo Sirainen  <tss@iki.fi>

	* configure.in:
	We never include dsieve-config.h, so regexp defines didn't work in
	there. Added them to CFLAGS at least for now.

	Relased 1.0.1
	[8b6df1256798]

2006-11-05  Timo Sirainen  <tss@iki.fi>

	* .cvsignore, INSTALL, NEWS, README, configure.in,
	src/libsieve/.cvsignore:
	Doing an actual v1.0 release.
	[ca81eb8c2d16]

2006-10-16  Timo Sirainen  <tss@iki.fi>

	* src/xmalloc.h:
	Include sys/types.h. Fixes compile problems with some systems.
	[52cb8af83763]

2006-10-13  Timo Sirainen  <tss@iki.fi>

	* src/cmusieve-plugin.c:
	If debug is enabled, log the sieve path. Also log an error if home
	dir isn't given and no specific sieve script path is given.
	[42e40d6258d3]

	* src/deliver.c:
	Not needed anymore
	[b03918f5884c]

2006-10-10  Timo Sirainen  <tss@iki.fi>

	* src/sieve-cmu.c:
	More __attribute__((unused)) -> __attr_unused__
	[68b8b5faf129]

	* src/libsieve/comparator.c, src/libsieve/message.c,
	src/libsieve/sievec.c:
	__attribute__((unused)) -> __attr_unused__ so it now compiles with
	non-gcc
	[018ca3d92aa4]

2006-10-08  Timo Sirainen  <tss@iki.fi>

	* src/sieve-cmu.c:
	Unified logging formats. Everything beings now with msgid=<id>.
	[b730321798a1]

2006-09-01  Timo Sirainen  <tss@iki.fi>

	* src/sieve-cmu.c:
	Log message ID when saving mails
	[8a0a93971e2d]

2006-07-01  Timo Sirainen  <tss@iki.fi>

	* src/libsieve/Makefile.am, src/libsieve/bc_eval.c,
	src/libsieve/bytecode.h, src/libsieve/sieved.c:
	Build sieve decompiler (sieved) also.
	[5c779d4ba6b2]

2006-06-17  Timo Sirainen  <tss@iki.fi>

	* src/Makefile.am, src/libsieve/Makefile.am:
	Build libsieve as a shared library so it can be portably linked with
	the plugin.
	[4e1cd37102db]

2006-06-12  Timo Sirainen  <tss@iki.fi>

	* src/sieve-cmu.c:
	"saved mail to" logging printed always INBOX
	[7f4e1c2fbffb]

2006-06-11  Timo Sirainen  <tss@iki.fi>

	* src/libsieve/sieve.y:
	Unsupported feature -> Unsupported features in require line
	[f503bc3fb371]

	* .cvsignore, AUTHORS, COPYING.LGPL, Makefile.am, NEWS, README,
	autogen.sh, configure.in, src/.cvsignore, src/Makefile.am, src
	/cmusieve-plugin.c, src/cmusieve-plugin.h, src/deliver.c,
	src/imparse.c, src/imparse.h, src/libconfig.h,
	src/libsieve/.cvsignore, src/libsieve/AUTHORS, src/libsieve/COPYING,
	src/libsieve/ChangeLog, src/libsieve/Makefile.am, src/libsieve/NEWS,
	src/libsieve/README, src/libsieve/addr-lex.l, src/libsieve/addr.y,
	src/libsieve/bc_dump.c, src/libsieve/bc_emit.c,
	src/libsieve/bc_eval.c, src/libsieve/bc_generate.c,
	src/libsieve/bytecode.h, src/libsieve/comparator.c,
	src/libsieve/comparator.h, src/libsieve/interp.c,
	src/libsieve/interp.h, src/libsieve/message.c,
	src/libsieve/message.h, src/libsieve/parseaddr.c,
	src/libsieve/parseaddr.h, src/libsieve/script.c,
	src/libsieve/script.h, src/libsieve/sieve-lex.l,
	src/libsieve/sieve.y, src/libsieve/sieve_err.c,
	src/libsieve/sieve_err.et, src/libsieve/sieve_err.h,
	src/libsieve/sieve_interface.h, src/libsieve/sievec.c,
	src/libsieve/sieved.c, src/libsieve/tree.c, src/libsieve/tree.h,
	src/map.c, src/map.h, src/sieve-cmu.c, src/xmalloc.h, stamp.h.in:
	Initial import of dovecot-lda's Sieve code to a deliver plugin.
	[c8819160e67c] [r_1_0_0]

	* .cvsignore, AUTHORS, COPYING.LGPL, Makefile.am, NEWS, README,
	autogen.sh, configure.in, src/.cvsignore, src/Makefile.am, src
	/cmusieve-plugin.c, src/cmusieve-plugin.h, src/deliver.c,
	src/imparse.c, src/imparse.h, src/libconfig.h,
	src/libsieve/.cvsignore, src/libsieve/AUTHORS, src/libsieve/COPYING,
	src/libsieve/ChangeLog, src/libsieve/Makefile.am, src/libsieve/NEWS,
	src/libsieve/README, src/libsieve/addr-lex.l, src/libsieve/addr.y,
	src/libsieve/bc_dump.c, src/libsieve/bc_emit.c,
	src/libsieve/bc_eval.c, src/libsieve/bc_generate.c,
	src/libsieve/bytecode.h, src/libsieve/comparator.c,
	src/libsieve/comparator.h, src/libsieve/interp.c,
	src/libsieve/interp.h, src/libsieve/message.c,
	src/libsieve/message.h, src/libsieve/parseaddr.c,
	src/libsieve/parseaddr.h, src/libsieve/script.c,
	src/libsieve/script.h, src/libsieve/sieve-lex.l,
	src/libsieve/sieve.y, src/libsieve/sieve_err.c,
	src/libsieve/sieve_err.et, src/libsieve/sieve_err.h,
	src/libsieve/sieve_interface.h, src/libsieve/sievec.c,
	src/libsieve/sieved.c, src/libsieve/tree.c, src/libsieve/tree.h,
	src/map.c, src/map.h, src/sieve-cmu.c, src/xmalloc.h, stamp.h.in:
	Initial revision
	[7d85833eff96]

